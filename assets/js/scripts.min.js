/*!
 * gulp-nunjucks-sass-template
 * A Gulp 4 template including SCSS, Nunjucks, JS and more
 *
 * Url: https://github.com/DefaultSimon
 * Author: Simon GoriÄar
 * Copyright 2022. License: MIT
 */
window.onload=function(){const e=new IntersectionObserver(function(e,t){e.forEach(e=>{e.isIntersecting?(e.target.classList.remove("animate-off"),e.target.classList.add("animate")):(e.target.classList.remove("animate"),e.target.classList.add("animate-off"))})},{root:null,rootMargin:"24px",threshold:.5});function t(e){let t=window.innerWidth/2,n=window.innerHeight/2,a=e.clientX,o=e.clientY;this.querySelectorAll(".parallaxed").forEach((e,s)=>{let i=-.001*s-.001;e.style.marginLeft=`${(a-t)*i}%`,e.style.marginTop=`${(o-n)*i}%`})}document.querySelectorAll(".section").forEach(t=>e.observe(t)),document.querySelectorAll(".parallax").forEach(e=>{e.addEventListener("mousemove",t)});const n=document.querySelectorAll(".section");let a=!1;function o(e,t,n,o){a=!0;let s=null,i=window.pageYOffset||document.documentElement.scrollTop,c=window.innerHeight,r=0,l=0;r="center"===o?t?(c+e.offsetHeight)/2:e.parentElement.getBoundingClientRect().top+(c+e.offsetHeight)/2:"bottom"===o?e.parentElement.getBoundingClientRect().bottom-c:e.getBoundingClientRect().top,console.log(i,r,l,e),function(){const e=["ms","moz","webkit","o"];for(let t=0,n=e.length;t<n&&!window.requestAnimationFrame;t++)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"]}(),window.requestAnimationFrame(function o(c){s||(s=c||(new Date).getTime());let d=(c-s)/+n;d=+d.toFixed(2);let m=+(u=d,u*(2-u)).toFixed(2);var u;l=+(l=i+r*m).toFixed(2),window.scrollTo(0,l),console.log(i,r,l,m),isNaN(l)||l<0||!t&&l<=0||!t&&l<=i+r+1||t&&l>=i+r||t&&l>=document.body.clientHeight-window.innerHeight-1||l>document.body.clientHeight-window.innerHeight?(cancelAnimationFrame(s),e&&e.focus(),l=0,a=!1):window.requestAnimationFrame(o)})}function s(e,t,n){!n&&t.offsetHeight<window.innerHeight||(e.classList.add("animate-fade"),t.classList.remove("animate-fade"))}function i(e,t){e.preventDefault();let i=t||e.deltaY>0;if(!a){let e,t=Array.from(n).findIndex(e=>e.classList.contains("animate"));if(e=i?t+1<n.length?Array.from(n)[t+1]:Array.from(n)[t]:t>0?Array.from(n)[t-1]:Array.from(n)[0],n[t].classList.contains("section--variants")){let t=document.querySelectorAll(".section--variants .variant");i&&t[t.length-1].classList.contains("variant--current")||!i&&t[0].classList.contains("variant--current")?new o(e,i,600):new function(e,t,n){a=!0;let o=e.querySelector(".section__variants").getBoundingClientRect().top,s=e.querySelector("ul"),i=e.querySelector(".variant--current"),c=n?Array.from(t).findIndex(e=>e.classList.contains("variant--current"))+1:Array.from(t).findIndex(e=>e.classList.contains("variant--current"))-1,r=Array.from(t)[c].getBoundingClientRect().top,l=0;if(s.style.transform){let e=window.getComputedStyle(s);l=new DOMMatrixReadOnly(e.transform).m42}console.log(o,s.getBoundingClientRect().top,r,l),i.classList.remove("variant--current"),Array.from(t)[c].classList.add("variant--current"),s.style.transform=`translateY(${o-r+l}px)`,setTimeout(()=>a=!1,300)}(document.querySelector(".section--variants"),t,i)}else if(n[t].classList.contains("section--world")){let s=document.querySelectorAll(".section--world .section__slide");i&&s[s.length-1].classList.contains("show")||!i&&s[0].classList.contains("show")?new o(e,i,600):new function(e,t,n){a=!0;let o=Array.from(t).findIndex(e=>e.classList.contains("show")),s=n?o+1:o-1;Array.from(t)[o].classList.remove("show"),Array.from(t)[s].classList.add("show"),e.setAttribute("data-slide",+s),setTimeout(()=>a=!1,300)}(n[t],s,i)}else if(n[t].classList.contains("section--roadmap")||e.classList.contains("section--roadmap")&&!i||e.classList.contains("section--opportunities")&&!i){let a=document.querySelector(".section--roadmap .expertise");a.classList.contains("animate-off")?i?(new s(n[t].querySelector(".section__content"),a,i),new o(a,i,900,"bottom"),a.classList.remove("animate-off")):(e.querySelector(".community").classList.remove("animate-fade"),new o(e.querySelector(".community"),i,900,"center")):a.classList.contains("animate-fade")?(a.classList.remove("animate-fade"),e.querySelector(".section__content").classList.add("animate-fade"),new o(a,i,900,"bottom")):i?(new o(e,i,600),a.classList.add("animate-fade")):(new o(n[t],i,600),a.classList.add("animate-off"),n[t].querySelector(".section__content").classList.remove("animate-fade"))}else if(n[t].classList.contains("section--opportunities")||e.classList.contains("section--opportunities")&&!i||e.classList.contains("section--backstory")&&!i){let a=document.querySelector(".section--opportunities .community");a.classList.contains("animate-off")?i?(a.classList.remove("animate-off"),new s(n[t].querySelector(".section__content"),a,i),new o(a,i,900,"center")):(e.querySelector(".place").classList.remove("animate-fade"),new o(e.querySelector(".place"),i,900,"center")):a.classList.contains("animate-fade")?(a.classList.remove("animate-fade"),e.querySelector(".section__content").classList.add("animate-fade"),new o(a,i,900,"center")):i?(new o(a,i,900,"center"),a.classList.add("animate-fade")):(new o(n[t],i,600),a.classList.add("animate-off"),n[t].querySelector(".section__content").classList.remove("animate-fade"))}else if(n[t].classList.contains("section--backstory")||e.classList.contains("section--backstory")&&!i||e.classList.contains("section--world")&&!i){let a=document.querySelector(".section--backstory .place");a.classList.contains("animate-off")?i?(a.classList.remove("animate-off"),new s(n[t].querySelector(".section__content"),a,i),new o(a,i,900,"center")):(n[t].classList.remove("animate-off"),new o(e,i,600)):a.classList.contains("animate-fade")?(a.classList.remove("animate-fade"),e.querySelector(".section__content").classList.add("animate-fade"),new o(a,i,900,"center")):i?(new o(a,i,900,"center"),a.classList.add("animate-fade")):(new o(n[t],i,600),a.classList.add("animate-off"),n[t].querySelector(".section__content").classList.remove("animate-fade"))}else console.log(e),new o(e,i,600)}}window.addEventListener("wheel",i,{passive:!1}),window.addEventListener("mousewheel",i,{passive:!1}),window.addEventListener("DOMMouseScroll",i,{passive:!1});let c=0;document.body.ontouchstart=function(e){c=e.changedTouches[0].clientY,console.log(e.changedTouches)},window.addEventListener("touchmove",e=>{const t=Math.round(e.changedTouches[0].screenY);console.log(t,c),c-t>50?(e.preventDefault(),new i(e,!0)):c-t<-50&&(e.preventDefault(),new i(e,!1))}),new Splide(".road",{perPage:3,perMove:1,breakpoints:{920:{perPage:2},520:{perPage:1}}}).mount(),new Splide(".section__articles",{perPage:3,perMove:1,gap:"32px",breakpoints:{640:{gap:"16px",perPage:2},520:{gap:"16px",perPage:1}}}).mount(),new Splide(".section__opportunities",{perPage:4,perMove:1,gap:"32px",breakpoints:{920:{perPage:2},640:{perPage:1}}}).mount()};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsid2luZG93Iiwib25sb2FkIiwib2JzZXJ2ZXIiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsImVudHJpZXMiLCJmb3JFYWNoIiwiZW50cnkiLCJpc0ludGVyc2VjdGluZyIsInRhcmdldCIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZCIsInJvb3QiLCJyb290TWFyZ2luIiwidGhyZXNob2xkIiwiUGFyYWxsYXgiLCJlIiwiX3ciLCJpbm5lcldpZHRoIiwiX2giLCJpbm5lckhlaWdodCIsIl9tb3VzZVgiLCJjbGllbnRYIiwiX21vdXNlWSIsImNsaWVudFkiLCJ0aGlzIiwicXVlcnlTZWxlY3RvckFsbCIsImVsIiwiaW5kZXgiLCJtdWx0aXBseSIsInN0eWxlIiwibWFyZ2luTGVmdCIsIm1hcmdpblRvcCIsImRvY3VtZW50Iiwib2JzZXJ2ZSIsInBhcmFsbGF4IiwiYWRkRXZlbnRMaXN0ZW5lciIsInNlY3Rpb25zIiwiaXNTY3JvbGxpbmciLCJTY3JvbGwiLCJlbGVtZW50IiwiaXNEb3duIiwic3BlZWQiLCJ0eXBlIiwic3RhcnQiLCJmaXJzdFBvcyIsInBhZ2VZT2Zmc2V0IiwiZG9jdW1lbnRFbGVtZW50Iiwic2Nyb2xsVG9wIiwid2luZG93SGVpZ2h0IiwicG9zIiwib2Zmc2V0SGVpZ2h0IiwicGFyZW50RWxlbWVudCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInRvcCIsImJvdHRvbSIsImNvbnNvbGUiLCJsb2ciLCJicm93c2VyIiwieCIsImxlbmd0aCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwic2hvd0FuaW1hdGlvbiIsInRpbWVzdGFtcCIsIkRhdGUiLCJnZXRUaW1lIiwicHJvZ3Jlc3MiLCJ0b0ZpeGVkIiwiZWFzZUluUGVyY2VudGFnZSIsIm4iLCJzY3JvbGxUbyIsImlzTmFOIiwiYm9keSIsImNsaWVudEhlaWdodCIsImZvY3VzIiwiQW5pbWF0ZUZhZGUiLCJjdXJyZW50IiwiaWREb3duIiwiV2hlZWwiLCJkb3duIiwicHJldmVudERlZmF1bHQiLCJkZWx0YVkiLCJBcnJheSIsImZyb20iLCJmaW5kSW5kZXgiLCJzZWN0aW9uIiwiY29udGFpbnMiLCJ2YXJpYW50cyIsImNvbnRhaW5lciIsImVsZW1lbnRzIiwiY29udGFpbmVyVG9wIiwicXVlcnlTZWxlY3RvciIsInBhcmVudCIsInRhcmdldEluZGV4IiwidHJhbnNmb3JtIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsIkRPTU1hdHJpeFJlYWRPbmx5IiwibTQyIiwic2V0VGltZW91dCIsInNsaWRlcyIsInNldEF0dHJpYnV0ZSIsImV4cGVydGlzZSIsImNvbW11bml0eSIsInBsYWNlIiwicGFzc2l2ZSIsInRvdWNoU3RhcnRQb3NZIiwib250b3VjaHN0YXJ0IiwiY2hhbmdlZFRvdWNoZXMiLCJjdXJyZW50UGFnZVkiLCJNYXRoIiwicm91bmQiLCJzY3JlZW5ZIiwiU3BsaWRlIiwicGVyUGFnZSIsInBlck1vdmUiLCJicmVha3BvaW50cyIsIjkyMCIsIjUyMCIsIm1vdW50IiwiZ2FwIiwiNjQwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBQSxPQUFBQyxPQUFBLFdBYUEsTUFBQUMsRUFBQSxJQUFBQyxxQkFOQSxTQUFBQyxFQUFBRixHQVBBRSxFQUFBQyxRQUFBQyxJQUNBQSxFQUFBQyxnQkFFQUQsRUFBQUUsT0FBQUMsVUFBQUMsT0FBQSxlQUNBSixFQUFBRSxPQUFBQyxVQUFBRSxJQUFBLGFBR0FMLEVBQUFFLE9BQUFDLFVBQUFDLE9BQUEsV0FDQUosRUFBQUUsT0FBQUMsVUFBQUUsSUFBQSxvQkFOQUMsS0FBQSxLQUNBQyxXQUFBLE9BQ0FDLFVBQUEsS0FjQSxTQUFBQyxFQUFBQyxHQUNBLElBQUFDLEVBQUFqQixPQUFBa0IsV0FBQSxFQUNBQyxFQUFBbkIsT0FBQW9CLFlBQUEsRUFDQUMsRUFBQUwsRUFBQU0sUUFDQUMsRUFBQVAsRUFBQVEsUUFDQUMsS0FBQUMsaUJBQUEsZUFDQXJCLFFBQUEsQ0FBQXNCLEVB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QUFBLFNBQUEzRixHQUNBMEYsRUFBQTFGLEVBQUE0RixlQUFBLEdBQUFwRixRQUNBZ0MsUUFBQUMsSUFBQXpDLEVBQUE0RixpQkFFQTVHLE9BQUFvQyxpQkFBQSxZQUFBcEIsSUFFQSxNQUFBNkYsRUFBQUMsS0FBQUMsTUFBQS9GLEVBQUE0RixlQUFBLEdBQUFJLFNBQ0F4RCxRQUFBQyxJQUFBb0QsRUFBQUgsR0FDQUEsRUFBQUcsRUFBQSxJQUNBN0YsRUFBQWlFLGlCQUNBLElBQUFGLEVBQUEvRCxHQUFBLElBQ0EwRixFQUFBRyxHQUFBLEtBQ0E3RixFQUFBaUUsaUJBQ0EsSUFBQUYsRUFBQS9ELEdBQUEsTUFtQkEsSUFBQWlHLE9BQUEsU0FDQUMsUUFBQSxFQUNBQyxRQUFBLEVBQ0FDLGFBQ0FDLEtBQ0FILFFBQUEsR0FFQUksS0FDQUosUUFBQSxNQUlBSyxRQUVBLElBQUFOLE9BQUEsc0JBQ0FDLFFBQUEsRUFDQUMsUUFBQSxFQUNBSyxJQUFBLE9BQ0FKLGFBQ0FLLEtBQ0FELElBQUEsT0FDQU4sUUFBQSxHQUVBSSxLQUNBRSxJQUFBLE9BQ0FOLFFBQUEsTUFJQUssUUFFQSxJQUFBTixPQUFBLDJCQUNBQyxRQUFBLEVBQ0FDLFFBQUEsRUFDQUssSUFBQSxPQUNBSixhQUNBQyxLQUNBSCxRQUFBLEdBRUFPLEtBQ0FQLFFBQUEsTUFJQUsiLCJmaWxlIjoic2NyaXB0cy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICBjb25zdCBvYnNlcnZlck9wdGlvbnMgPSB7XG4gICAgcm9vdDogbnVsbCxcbiAgICByb290TWFyZ2luOiBcIjI0cHhcIixcbiAgICB0aHJlc2hvbGQ6IDAuNVxuICB9O1xuXG4gIGZ1bmN0aW9uIG9ic2VydmVyQ2FsbGJhY2soZW50cmllcywgb2JzZXJ2ZXIpIHtcbiAgICBlbnRyaWVzLmZvckVhY2goZW50cnkgPT4ge1xuICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XG4gICAgICAgIC8vIGZhZGUgaW4gb2JzZXJ2ZWQgZWxlbWVudHMgdGhhdCBhcmUgaW4gdmlld1xuICAgICAgICBlbnRyeS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnYW5pbWF0ZS1vZmYnKTtcbiAgICAgICAgZW50cnkudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2FuaW1hdGUnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGZhZGUgb3V0IG9ic2VydmVkIGVsZW1lbnRzIHRoYXQgYXJlIG5vdCBpbiB2aWV3XG4gICAgICAgIGVudHJ5LnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdhbmltYXRlJyk7XG4gICAgICAgIGVudHJ5LnRhcmdldC5jbGFzc0xpc3QuYWRkKCdhbmltYXRlLW9mZicpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIob2JzZXJ2ZXJDYWxsYmFjaywgb2JzZXJ2ZXJPcHRpb25zKTtcblxuICBjb25zdCBmYWRlRWxtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWN0aW9uJyk7XG4gIGZhZGVFbG1zLmZvckVhY2goZWwgPT4gb2JzZXJ2ZXIub2JzZXJ2ZShlbCkpO1xuXG4gIGZ1bmN0aW9uIFBhcmFsbGF4KGUpIHtcbiAgICBsZXQgX3cgPSB3aW5kb3cuaW5uZXJXaWR0aC8yO1xuICAgIGxldCBfaCA9IHdpbmRvdy5pbm5lckhlaWdodC8yO1xuICAgIGxldCBfbW91c2VYID0gZS5jbGllbnRYO1xuICAgIGxldCBfbW91c2VZID0gZS5jbGllbnRZO1xuICAgIGxldCBlbGVtcyA9IHRoaXMucXVlcnlTZWxlY3RvckFsbCgnLnBhcmFsbGF4ZWQnKTtcbiAgICBlbGVtcy5mb3JFYWNoKChlbCwgaW5kZXgpID0+IHtcbiAgICAgIGxldCBtdWx0aXBseSA9IGluZGV4ICogLTAuMDAxIC0gMC4wMDE7XG4gICAgICBlbC5zdHlsZS5tYXJnaW5MZWZ0ID0gYCR7KF9tb3VzZVggLSBfdykgKiBtdWx0aXBseX0lYDtcbiAgICAgIGVsLnN0eWxlLm1hcmdpblRvcCA9IGAkeyhfbW91c2VZIC0gX2gpICogbXVsdGlwbHl9JWA7XG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBwYXJhbGxheGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBhcmFsbGF4Jyk7XG4gIHBhcmFsbGF4ZXMuZm9yRWFjaCgocGFyYWxsYXgpID0+IHtcbiAgICBwYXJhbGxheC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIFBhcmFsbGF4KTtcbiAgfSk7XG5cbiAgY29uc3Qgc2VjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VjdGlvbicpO1xuXG4gIC8vIHNlY3Rpb25zLmZvckVhY2goKHNlY3Rpb24pID0+IHtcbiAgLy8gICBjb25zb2xlLmxvZyhzZWN0aW9uLmNsYXNzTGlzdCk7XG4gIC8vIH0pO1xuICBsZXQgaXNTY3JvbGxpbmcgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBTY3JvbGwoZWxlbWVudCwgaXNEb3duLCBzcGVlZCwgdHlwZSkge1xuICAgIGlzU2Nyb2xsaW5nID0gdHJ1ZTtcbiAgICBsZXQgc3RhcnQgPSBudWxsO1xuICAgIGxldCBmaXJzdFBvcyA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgIGxldCB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgbGV0IHRhcmdldCA9IDA7XG4gICAgbGV0IHBvcyA9IDA7XG5cbiAgICBpZiAodHlwZSA9PT0gJ2NlbnRlcicpIHtcbiAgICAgIHRhcmdldCA9IGlzRG93biA/ICh3aW5kb3dIZWlnaHQgKyBlbGVtZW50Lm9mZnNldEhlaWdodCkgLyAyIDogZWxlbWVudC5wYXJlbnRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArICh3aW5kb3dIZWlnaHQgKyBlbGVtZW50Lm9mZnNldEhlaWdodCkgLyAyO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2JvdHRvbScpIHtcbiAgICAgIHRhcmdldCA9IGVsZW1lbnQucGFyZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b20gLSB3aW5kb3dIZWlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhcmdldCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKGZpcnN0UG9zLCB0YXJnZXQsIHBvcywgZWxlbWVudCk7XG5cbiAgICAoZnVuY3Rpb24oKSB7XG5cbiAgICAgIGNvbnN0IGJyb3dzZXIgPSBbJ21zJywgJ21veicsICd3ZWJraXQnLCAnbyddO1xuXG4gICAgICBmb3IobGV0IHggPSAwLCBsZW5ndGggPSBicm93c2VyLmxlbmd0aDsgeCA8IGxlbmd0aCAmJiAhd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZTsgeCsrKSB7XG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB3aW5kb3dbYnJvd3Nlclt4XSsnUmVxdWVzdEFuaW1hdGlvbkZyYW1lJ107XG4gICAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSA9IHdpbmRvd1ticm93c2VyW3hdKydDYW5jZWxBbmltYXRpb25GcmFtZSddIHx8IHdpbmRvd1ticm93c2VyW3hdKydDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUnXTtcbiAgICAgIH1cblxuICAgIH0oKSk7XG5cbiAgICBmdW5jdGlvbiBzaG93QW5pbWF0aW9uICh0aW1lc3RhbXApIHtcblxuICAgICAgaWYoIXN0YXJ0KSB7IHN0YXJ0ID0gdGltZXN0YW1wIHx8IG5ldyBEYXRlKCkuZ2V0VGltZSgpOyB9IC8vZ2V0IGlkIG9mIGFuaW1hdGlvblxuXG4gICAgICBsZXQgZWxhcHNlZCA9IHRpbWVzdGFtcCAtIHN0YXJ0O1xuICAgICAgbGV0IHByb2dyZXNzID0gZWxhcHNlZCAvICtzcGVlZDsgLy8gYW5pbWF0aW9uIGR1cmF0aW9uIDUwMG1zXG4gICAgICBwcm9ncmVzcyA9ICtwcm9ncmVzcy50b0ZpeGVkKDIpO1xuXG4gICAgICAvLyBjb25zb2xlLmxvZyhzdGFydCwgdGltZXN0YW1wLCBwcm9ncmVzcywgZWxhcHNlZCwgc3BlZWQsIGZpcnN0UG9zLCB0YXJnZXQsIHBvcyk7XG5cbiAgICAgIC8vZWFzZSBpbiBmdW5jdGlvbiBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9jb21wb25lbnQvZWFzZS9ibG9iL21hc3Rlci9pbmRleC5qc1xuICAgICAgY29uc3Qgb3V0UXVhZCA9IGZ1bmN0aW9uKG4pe1xuICAgICAgICByZXR1cm4gbiAqICgyIC0gbik7XG4gICAgICB9O1xuXG4gICAgICBsZXQgZWFzZUluUGVyY2VudGFnZSA9ICsob3V0UXVhZChwcm9ncmVzcykpLnRvRml4ZWQoMik7XG5cbiAgICAgIHBvcyA9IGZpcnN0UG9zICsgKHRhcmdldCAqIGVhc2VJblBlcmNlbnRhZ2UpO1xuICAgICAgcG9zID0gK3Bvcy50b0ZpeGVkKDIpO1xuICAgICAgd2luZG93LnNjcm9sbFRvKDAsIHBvcyk7XG5cbiAgICAgIGNvbnNvbGUubG9nKGZpcnN0UG9zLCB0YXJnZXQsIHBvcywgZWFzZUluUGVyY2VudGFnZSk7XG5cbiAgICAgIGlmKCBpc05hTihwb3MpIHx8IHBvcyA8IDAgfHxcbiAgICAgICAgIWlzRG93biAmJiBwb3MgPD0gMCB8fFxuICAgICAgICAhaXNEb3duICYmIHBvcyA8PSAoZmlyc3RQb3MgKyB0YXJnZXQgKyAxKSB8fFxuICAgICAgICBpc0Rvd24gJiYgcG9zID49IChmaXJzdFBvcyArIHRhcmdldCkgfHxcbiAgICAgICAgaXNEb3duICYmIHBvcyA+PSBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCAtIHdpbmRvdy5pbm5lckhlaWdodCAtIDEgfHxcbiAgICAgICAgcG9zID4gZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQgLSB3aW5kb3cuaW5uZXJIZWlnaHQgKSB7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHN0YXJ0KTtcbiAgICAgICAgaWYoZWxlbWVudCkge1xuICAgICAgICAgIGVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgICBwb3MgPSAwO1xuICAgICAgICBpc1Njcm9sbGluZyA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShzaG93QW5pbWF0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShzaG93QW5pbWF0aW9uKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIElubmVyU2Nyb2xsKGNvbnRhaW5lciwgZWxlbWVudHMsIGlzRG93bikge1xuICAgIGlzU2Nyb2xsaW5nID0gdHJ1ZTtcbiAgICBsZXQgY29udGFpbmVyVG9wID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uX192YXJpYW50cycpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcbiAgICBsZXQgcGFyZW50ID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ3VsJyk7XG4gICAgbGV0IGN1cnJlbnQgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLnZhcmlhbnQtLWN1cnJlbnQnKTtcbiAgICBsZXQgdGFyZ2V0SW5kZXggPSBpc0Rvd24gP1xuICAgICAgQXJyYXkuZnJvbShlbGVtZW50cykuZmluZEluZGV4KCBlbCA9PiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3ZhcmlhbnQtLWN1cnJlbnQnKSkgKyAxIDpcbiAgICAgIEFycmF5LmZyb20oZWxlbWVudHMpLmZpbmRJbmRleCggZWwgPT4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCd2YXJpYW50LS1jdXJyZW50JykpIC0gMTtcbiAgICBsZXQgdGFyZ2V0ID0gQXJyYXkuZnJvbShlbGVtZW50cylbdGFyZ2V0SW5kZXhdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcbiAgICBsZXQgcG9zID0gMDtcbiAgICBpZiAocGFyZW50LnN0eWxlLnRyYW5zZm9ybSkge1xuICAgICAgbGV0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUocGFyZW50KTtcbiAgICAgIGxldCBtYXRyaXggPSBuZXcgRE9NTWF0cml4UmVhZE9ubHkoc3R5bGUudHJhbnNmb3JtKTtcbiAgICAgIHBvcyA9IG1hdHJpeC5tNDI7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKGNvbnRhaW5lclRvcCwgcGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCwgdGFyZ2V0LCBwb3MpO1xuICAgIGN1cnJlbnQuY2xhc3NMaXN0LnJlbW92ZSgndmFyaWFudC0tY3VycmVudCcpO1xuICAgIEFycmF5LmZyb20oZWxlbWVudHMpW3RhcmdldEluZGV4XS5jbGFzc0xpc3QuYWRkKCd2YXJpYW50LS1jdXJyZW50Jyk7XG4gICAgcGFyZW50LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVZKCR7Y29udGFpbmVyVG9wIC0gdGFyZ2V0ICsgcG9zfXB4KWA7XG4gICAgc2V0VGltZW91dCgoKSA9PiBpc1Njcm9sbGluZyA9IGZhbHNlLCAzMDApO1xuICB9XG5cbiAgZnVuY3Rpb24gU2xpZGVzU2Nyb2xsKGNvbnRhaW5lciwgZWxlbWVudHMsIGlzRG93bikge1xuICAgIGlzU2Nyb2xsaW5nID0gdHJ1ZTtcbiAgICBsZXQgY3VycmVudCA9IEFycmF5LmZyb20oZWxlbWVudHMpLmZpbmRJbmRleChlbCA9PiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3cnKSk7XG4gICAgbGV0IHRhcmdldCA9IGlzRG93biA/IGN1cnJlbnQgKyAxIDogY3VycmVudCAtIDE7XG4gICAgQXJyYXkuZnJvbShlbGVtZW50cylbY3VycmVudF0uY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpO1xuICAgIEFycmF5LmZyb20oZWxlbWVudHMpW3RhcmdldF0uY2xhc3NMaXN0LmFkZCgnc2hvdycpO1xuICAgIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2RhdGEtc2xpZGUnLCArdGFyZ2V0KTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IGlzU2Nyb2xsaW5nID0gZmFsc2UsIDMwMCk7XG4gIH1cblxuICBmdW5jdGlvbiBBbmltYXRlRmFkZShjdXJyZW50LCB0YXJnZXQsIGlkRG93bikge1xuICAgIGlmICghKCFpZERvd24gJiYgdGFyZ2V0Lm9mZnNldEhlaWdodCA8IHdpbmRvdy5pbm5lckhlaWdodCkpIHtcbiAgICAgIGN1cnJlbnQuY2xhc3NMaXN0LmFkZCgnYW5pbWF0ZS1mYWRlJyk7XG4gICAgICB0YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnYW5pbWF0ZS1mYWRlJyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gV2hlZWwoZSwgZG93bikge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBsZXQgaXNEb3duID0gZG93biB8fCBlLmRlbHRhWSA+IDA7XG4gICAgaWYgKCFpc1Njcm9sbGluZykge1xuICAgICAgbGV0IGN1cnJlbnQgPSBBcnJheS5mcm9tKHNlY3Rpb25zKS5maW5kSW5kZXgoc2VjdGlvbiA9PiBzZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucygnYW5pbWF0ZScpKTtcbiAgICAgIGxldCB0YXJnZXQ7XG4gICAgICBpZiAoaXNEb3duKSB7XG4gICAgICAgIHRhcmdldCA9IGN1cnJlbnQgKyAxIDwgc2VjdGlvbnMubGVuZ3RoID8gQXJyYXkuZnJvbShzZWN0aW9ucylbY3VycmVudCArIDFdIDogQXJyYXkuZnJvbShzZWN0aW9ucylbY3VycmVudF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXQgPSBjdXJyZW50ID4gMCA/IEFycmF5LmZyb20oc2VjdGlvbnMpW2N1cnJlbnQgLSAxXSA6IEFycmF5LmZyb20oc2VjdGlvbnMpWzBdO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2VjdGlvbnNbY3VycmVudF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWN0aW9uLS12YXJpYW50cycpKSB7XG4gICAgICAgIGxldCB2YXJpYW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWN0aW9uLS12YXJpYW50cyAudmFyaWFudCcpO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgaXNEb3duICYmIHZhcmlhbnRzW3ZhcmlhbnRzLmxlbmd0aCAtIDFdLmNsYXNzTGlzdC5jb250YWlucygndmFyaWFudC0tY3VycmVudCcpIHx8XG4gICAgICAgICAgIWlzRG93biAmJiB2YXJpYW50c1swXS5jbGFzc0xpc3QuY29udGFpbnMoJ3ZhcmlhbnQtLWN1cnJlbnQnKVxuICAgICAgICApIHtcbiAgICAgICAgICBuZXcgU2Nyb2xsKHRhcmdldCwgaXNEb3duLCA2MDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ldyBJbm5lclNjcm9sbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi0tdmFyaWFudHMnKSwgdmFyaWFudHMsIGlzRG93bik7XG4gICAgICAgIH1cblxuICAgICAgfSBlbHNlIGlmIChzZWN0aW9uc1tjdXJyZW50XS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlY3Rpb24tLXdvcmxkJykpIHtcbiAgICAgICAgbGV0IHNsaWRlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWN0aW9uLS13b3JsZCAuc2VjdGlvbl9fc2xpZGUnKTtcbiAgICAgICAgaWYgKGlzRG93biAmJiBzbGlkZXNbc2xpZGVzLmxlbmd0aCAtIDFdLmNsYXNzTGlzdC5jb250YWlucygnc2hvdycpIHx8XG4gICAgICAgICAgIWlzRG93biAmJiBzbGlkZXNbMF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93JykpIHtcbiAgICAgICAgICBuZXcgU2Nyb2xsKHRhcmdldCwgaXNEb3duLCA2MDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ldyBTbGlkZXNTY3JvbGwoc2VjdGlvbnNbY3VycmVudF0sIHNsaWRlcywgaXNEb3duKTtcbiAgICAgICAgfVxuXG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICBzZWN0aW9uc1tjdXJyZW50XS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlY3Rpb24tLXJvYWRtYXAnKSB8fFxuICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWN0aW9uLS1yb2FkbWFwJykgJiYgIWlzRG93biB8fFxuICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWN0aW9uLS1vcHBvcnR1bml0aWVzJykgJiYgIWlzRG93blxuICAgICAgKSB7XG4gICAgICAgIGxldCBleHBlcnRpc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi0tcm9hZG1hcCAuZXhwZXJ0aXNlJyk7XG4gICAgICAgIGlmIChleHBlcnRpc2UuY2xhc3NMaXN0LmNvbnRhaW5zKCdhbmltYXRlLW9mZicpKSB7XG4gICAgICAgICAgaWYgKGlzRG93bikge1xuICAgICAgICAgICAgbmV3IEFuaW1hdGVGYWRlKHNlY3Rpb25zW2N1cnJlbnRdLnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uX19jb250ZW50JyksIGV4cGVydGlzZSwgaXNEb3duKTtcbiAgICAgICAgICAgIG5ldyBTY3JvbGwoZXhwZXJ0aXNlLCBpc0Rvd24sIDkwMCwgJ2JvdHRvbScpO1xuICAgICAgICAgICAgZXhwZXJ0aXNlLmNsYXNzTGlzdC5yZW1vdmUoJ2FuaW1hdGUtb2ZmJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRhcmdldC5xdWVyeVNlbGVjdG9yKCcuY29tbXVuaXR5JykuY2xhc3NMaXN0LnJlbW92ZSgnYW5pbWF0ZS1mYWRlJyk7XG4gICAgICAgICAgICBuZXcgU2Nyb2xsKHRhcmdldC5xdWVyeVNlbGVjdG9yKCcuY29tbXVuaXR5JyksIGlzRG93biwgOTAwLCAnY2VudGVyJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGV4cGVydGlzZS5jbGFzc0xpc3QuY29udGFpbnMoJ2FuaW1hdGUtZmFkZScpKSB7XG4gICAgICAgICAgZXhwZXJ0aXNlLmNsYXNzTGlzdC5yZW1vdmUoJ2FuaW1hdGUtZmFkZScpO1xuICAgICAgICAgIHRhcmdldC5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbl9fY29udGVudCcpLmNsYXNzTGlzdC5hZGQoJ2FuaW1hdGUtZmFkZScpO1xuICAgICAgICAgIG5ldyBTY3JvbGwoZXhwZXJ0aXNlLCBpc0Rvd24sIDkwMCwgJ2JvdHRvbScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChpc0Rvd24pIHtcbiAgICAgICAgICAgIG5ldyBTY3JvbGwodGFyZ2V0LCBpc0Rvd24sIDYwMCk7XG4gICAgICAgICAgICBleHBlcnRpc2UuY2xhc3NMaXN0LmFkZCgnYW5pbWF0ZS1mYWRlJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ldyBTY3JvbGwoc2VjdGlvbnNbY3VycmVudF0sIGlzRG93biwgNjAwKTtcbiAgICAgICAgICAgIGV4cGVydGlzZS5jbGFzc0xpc3QuYWRkKCdhbmltYXRlLW9mZicpO1xuICAgICAgICAgICAgc2VjdGlvbnNbY3VycmVudF0ucXVlcnlTZWxlY3RvcignLnNlY3Rpb25fX2NvbnRlbnQnKS5jbGFzc0xpc3QucmVtb3ZlKCdhbmltYXRlLWZhZGUnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgc2VjdGlvbnNbY3VycmVudF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWN0aW9uLS1vcHBvcnR1bml0aWVzJykgfHxcbiAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnc2VjdGlvbi0tb3Bwb3J0dW5pdGllcycpICYmICFpc0Rvd24gfHxcbiAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnc2VjdGlvbi0tYmFja3N0b3J5JykgJiYgIWlzRG93blxuICAgICAgKSB7XG4gICAgICAgIGxldCBjb21tdW5pdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi0tb3Bwb3J0dW5pdGllcyAuY29tbXVuaXR5Jyk7XG4gICAgICAgIGlmIChjb21tdW5pdHkuY2xhc3NMaXN0LmNvbnRhaW5zKCdhbmltYXRlLW9mZicpKSB7XG4gICAgICAgICAgaWYgKGlzRG93bikge1xuICAgICAgICAgICAgY29tbXVuaXR5LmNsYXNzTGlzdC5yZW1vdmUoJ2FuaW1hdGUtb2ZmJyk7XG4gICAgICAgICAgICBuZXcgQW5pbWF0ZUZhZGUoc2VjdGlvbnNbY3VycmVudF0ucXVlcnlTZWxlY3RvcignLnNlY3Rpb25fX2NvbnRlbnQnKSwgY29tbXVuaXR5LCBpc0Rvd24pO1xuICAgICAgICAgICAgbmV3IFNjcm9sbChjb21tdW5pdHksIGlzRG93biwgOTAwLCAnY2VudGVyJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRhcmdldC5xdWVyeVNlbGVjdG9yKCcucGxhY2UnKS5jbGFzc0xpc3QucmVtb3ZlKCdhbmltYXRlLWZhZGUnKTtcbiAgICAgICAgICAgIG5ldyBTY3JvbGwodGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJy5wbGFjZScpLCBpc0Rvd24sIDkwMCwgJ2NlbnRlcicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjb21tdW5pdHkuY2xhc3NMaXN0LmNvbnRhaW5zKCdhbmltYXRlLWZhZGUnKSkge1xuICAgICAgICAgIGNvbW11bml0eS5jbGFzc0xpc3QucmVtb3ZlKCdhbmltYXRlLWZhZGUnKTtcbiAgICAgICAgICB0YXJnZXQucXVlcnlTZWxlY3RvcignLnNlY3Rpb25fX2NvbnRlbnQnKS5jbGFzc0xpc3QuYWRkKCdhbmltYXRlLWZhZGUnKTtcbiAgICAgICAgICBuZXcgU2Nyb2xsKGNvbW11bml0eSwgaXNEb3duLCA5MDAsICdjZW50ZXInKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoaXNEb3duKSB7XG4gICAgICAgICAgICBuZXcgU2Nyb2xsKGNvbW11bml0eSwgaXNEb3duLCA5MDAsICdjZW50ZXInKTtcbiAgICAgICAgICAgIGNvbW11bml0eS5jbGFzc0xpc3QuYWRkKCdhbmltYXRlLWZhZGUnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3IFNjcm9sbChzZWN0aW9uc1tjdXJyZW50XSwgaXNEb3duLCA2MDApO1xuICAgICAgICAgICAgY29tbXVuaXR5LmNsYXNzTGlzdC5hZGQoJ2FuaW1hdGUtb2ZmJyk7XG4gICAgICAgICAgICBzZWN0aW9uc1tjdXJyZW50XS5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbl9fY29udGVudCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2FuaW1hdGUtZmFkZScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICBzZWN0aW9uc1tjdXJyZW50XS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlY3Rpb24tLWJhY2tzdG9yeScpIHx8XG4gICAgICAgIHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlY3Rpb24tLWJhY2tzdG9yeScpICYmICFpc0Rvd24gfHxcbiAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnc2VjdGlvbi0td29ybGQnKSAmJiAhaXNEb3duXG4gICAgICApIHtcbiAgICAgICAgbGV0IHBsYWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tLWJhY2tzdG9yeSAucGxhY2UnKTtcbiAgICAgICAgaWYgKHBsYWNlLmNsYXNzTGlzdC5jb250YWlucygnYW5pbWF0ZS1vZmYnKSkge1xuICAgICAgICAgIGlmIChpc0Rvd24pIHtcbiAgICAgICAgICAgIHBsYWNlLmNsYXNzTGlzdC5yZW1vdmUoJ2FuaW1hdGUtb2ZmJyk7XG4gICAgICAgICAgICBuZXcgQW5pbWF0ZUZhZGUoc2VjdGlvbnNbY3VycmVudF0ucXVlcnlTZWxlY3RvcignLnNlY3Rpb25fX2NvbnRlbnQnKSwgcGxhY2UsIGlzRG93bik7XG4gICAgICAgICAgICBuZXcgU2Nyb2xsKHBsYWNlLCBpc0Rvd24sIDkwMCwgJ2NlbnRlcicpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWN0aW9uc1tjdXJyZW50XS5jbGFzc0xpc3QucmVtb3ZlKCdhbmltYXRlLW9mZicpO1xuICAgICAgICAgICAgbmV3IFNjcm9sbCh0YXJnZXQsIGlzRG93biwgNjAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocGxhY2UuY2xhc3NMaXN0LmNvbnRhaW5zKCdhbmltYXRlLWZhZGUnKSkge1xuICAgICAgICAgIHBsYWNlLmNsYXNzTGlzdC5yZW1vdmUoJ2FuaW1hdGUtZmFkZScpO1xuICAgICAgICAgIHRhcmdldC5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbl9fY29udGVudCcpLmNsYXNzTGlzdC5hZGQoJ2FuaW1hdGUtZmFkZScpO1xuICAgICAgICAgIG5ldyBTY3JvbGwocGxhY2UsIGlzRG93biwgOTAwLCAnY2VudGVyJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGlzRG93bikge1xuICAgICAgICAgICAgbmV3IFNjcm9sbChwbGFjZSwgaXNEb3duLCA5MDAsICdjZW50ZXInKTtcbiAgICAgICAgICAgIHBsYWNlLmNsYXNzTGlzdC5hZGQoJ2FuaW1hdGUtZmFkZScpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXcgU2Nyb2xsKHNlY3Rpb25zW2N1cnJlbnRdLCBpc0Rvd24sIDYwMCk7XG4gICAgICAgICAgICBwbGFjZS5jbGFzc0xpc3QuYWRkKCdhbmltYXRlLW9mZicpO1xuICAgICAgICAgICAgc2VjdGlvbnNbY3VycmVudF0ucXVlcnlTZWxlY3RvcignLnNlY3Rpb25fX2NvbnRlbnQnKS5jbGFzc0xpc3QucmVtb3ZlKCdhbmltYXRlLWZhZGUnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2codGFyZ2V0KTtcbiAgICAgICAgbmV3IFNjcm9sbCh0YXJnZXQsIGlzRG93biwgNjAwKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCBXaGVlbCwge3Bhc3NpdmU6IGZhbHNlfSk7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXdoZWVsJywgV2hlZWwsIHtwYXNzaXZlOiBmYWxzZX0pO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NTW91c2VTY3JvbGwnLCBXaGVlbCwge3Bhc3NpdmU6IGZhbHNlfSk7XG5cbiAgbGV0IHRvdWNoU3RhcnRQb3NZID0gMDtcbiAgZG9jdW1lbnQuYm9keS5vbnRvdWNoc3RhcnQgPSBmdW5jdGlvbihlKXtcbiAgICB0b3VjaFN0YXJ0UG9zWSA9IGUuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICBjb25zb2xlLmxvZyhlLmNoYW5nZWRUb3VjaGVzKTtcbiAgfTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIChlKSA9PiB7XG4gICAgLy8gRGlmZmVyZW50IGRldmljZXMgZ2l2ZSBkaWZmZXJlbnQgdmFsdWVzIHdpdGggZGlmZmVyZW50IGRlY2ltYWwgcGVyY2VudGFnZXMuXG4gICAgY29uc3QgY3VycmVudFBhZ2VZID0gTWF0aC5yb3VuZChlLmNoYW5nZWRUb3VjaGVzWzBdLnNjcmVlblkpO1xuICAgIGNvbnNvbGUubG9nKGN1cnJlbnRQYWdlWSwgdG91Y2hTdGFydFBvc1kpO1xuICAgIGlmICh0b3VjaFN0YXJ0UG9zWSAtIGN1cnJlbnRQYWdlWSA+IDUwKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBuZXcgV2hlZWwoZSwgdHJ1ZSk7XG4gICAgfSBlbHNlIGlmICh0b3VjaFN0YXJ0UG9zWSAtIGN1cnJlbnRQYWdlWSA8IC01MCkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgbmV3IFdoZWVsKGUsIGZhbHNlKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIGRvY3VtZW50Lm9ua2V5dXAgPSBmdW5jdGlvbihlKXtcbiAgLy8gICBjb25zb2xlLmxvZygnS2V5IDogJyArIGUuY29kZSk7XG4gIC8vICAgbGV0IGN1cnJlbnQgPSBBcnJheS5mcm9tKHNlY3Rpb25zKS5maW5kSW5kZXgoIHNlY3Rpb24gPT4gc2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2FuaW1hdGUnKSApO1xuICAvLyAgIGxldCB0YXJnZXQ7XG4gIC8vICAgaWYgKGUuY29kZSA9PT0gKCdTcGFjZScgfHwgJ0Fycm93RG93bicgfHwgJ1BhZ2VEb3duJyB8fCAnRG93bicpKSB7XG4gIC8vICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIC8vICAgICB0YXJnZXQgPSBjdXJyZW50ICsgMSA8IHNlY3Rpb25zLmxlbmd0aCA/IEFycmF5LmZyb20oc2VjdGlvbnMpW2N1cnJlbnQgKyAxXSA6IEFycmF5LmZyb20oc2VjdGlvbnMpW2N1cnJlbnRdO1xuICAvLyAgICAgbmV3IFNjcm9sbCh0YXJnZXQsIHRydWUpO1xuICAvLyAgIH0gZWxzZSBpZiAoZS5jb2RlID09PSAoJ0Fycm93VXAnIHx8ICdQYWdlVXAnIHx8ICdVcCcpKSB7XG4gIC8vICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIC8vICAgICB0YXJnZXQgPSBjdXJyZW50ID4gMCA/IEFycmF5LmZyb20oc2VjdGlvbnMpW2N1cnJlbnQgLSAxXSA6IEFycmF5LmZyb20oc2VjdGlvbnMpWzBdO1xuICAvLyAgICAgbmV3IFNjcm9sbCh0YXJnZXQsIGZhbHNlKTtcbiAgLy8gICB9XG4gIC8vIH07XG5cbiAgbGV0IHNwbGlkZSA9IG5ldyBTcGxpZGUoICcucm9hZCcsIHtcbiAgICBwZXJQYWdlOiAzLFxuICAgIHBlck1vdmU6IDEsXG4gICAgYnJlYWtwb2ludHM6IHtcbiAgICAgIDkyMDoge1xuICAgICAgICBwZXJQYWdlOiAyXG4gICAgICB9LFxuICAgICAgNTIwOiB7XG4gICAgICAgIHBlclBhZ2U6IDFcbiAgICAgIH0sXG4gICAgfSxcbiAgfSApO1xuICBzcGxpZGUubW91bnQoKTtcblxuICBsZXQgcHJlc3MgPSBuZXcgU3BsaWRlKCAnLnNlY3Rpb25fX2FydGljbGVzJywge1xuICAgIHBlclBhZ2U6IDMsXG4gICAgcGVyTW92ZTogMSxcbiAgICBnYXA6ICczMnB4JyxcbiAgICBicmVha3BvaW50czoge1xuICAgICAgNjQwOiB7XG4gICAgICAgIGdhcDogJzE2cHgnLFxuICAgICAgICBwZXJQYWdlOiAyXG4gICAgICB9LFxuICAgICAgNTIwOiB7XG4gICAgICAgIGdhcDogJzE2cHgnLFxuICAgICAgICBwZXJQYWdlOiAxXG4gICAgICB9LFxuICAgIH0sXG4gIH0gKTtcbiAgcHJlc3MubW91bnQoKTtcblxuICBsZXQgc3BsaWRlT3BwID0gbmV3IFNwbGlkZSggJy5zZWN0aW9uX19vcHBvcnR1bml0aWVzJywge1xuICAgIHBlclBhZ2U6IDQsXG4gICAgcGVyTW92ZTogMSxcbiAgICBnYXA6ICczMnB4JyxcbiAgICBicmVha3BvaW50czoge1xuICAgICAgOTIwOiB7XG4gICAgICAgIHBlclBhZ2U6IDJcbiAgICAgIH0sXG4gICAgICA2NDA6IHtcbiAgICAgICAgcGVyUGFnZTogMVxuICAgICAgfVxuICAgIH0sXG4gIH0gKTtcbiAgc3BsaWRlT3BwLm1vdW50KCk7XG59O1xuXG4iXX0=
