/*!
 * gulp-nunjucks-sass-template
 * A Gulp 4 template including SCSS, Nunjucks, JS and more
 *
 * Url: https://github.com/DefaultSimon
 * Author: Simon GoriÄar
 * Copyright 2022. License: MIT
 */
window.onload=function(){const e=document.querySelectorAll(".section");let t=document.querySelectorAll(".section--variants .variant"),n=!1,o=0,a=!0;const s=new IntersectionObserver(function(e,t){e.forEach(e=>{e.isIntersecting?(e.target.classList.remove("animate-off"),e.target.classList.add("animate")):(e.target.classList.remove("animate"),e.target.classList.add("animate-off"))})},{root:null,rootMargin:"10%",threshold:.5});function i(e,t,o,a){console.log(e,t),n=!0;let s=null,i=window.pageYOffset||document.documentElement.scrollTop,c=window.innerHeight,r=0,l=0;r="center"===a?t?(c+e.offsetHeight)/2:e.parentElement.getBoundingClientRect().top+(c+e.offsetHeight)/2:"bottom"===a?e.parentElement.getBoundingClientRect().bottom-c:e.getBoundingClientRect().top,function(){const e=["ms","moz","webkit","o"];for(let t=0,n=e.length;t<n&&!window.requestAnimationFrame;t++)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"]}(),window.requestAnimationFrame(function a(d){s||(s=d||(new Date).getTime());let m=(d-s)/+o;m=+m.toFixed(2);let u=+(f=m,f*(2-f)).toFixed(2);var f;l=+(l=i+r*u).toFixed(2),window.scrollTo(0,l),console.log(isNaN(l),l<0,!t&&l<=0,!t&&l<=i+r+1,t&&l>=i+r,t&&document.body.getBoundingClientRect().bottom-1<c,t&&e.getBoundingClientRect().top.toFixed(0)-1>=0,e.getBoundingClientRect().top.toFixed(0)+1),isNaN(l)||l<0||!t&&l<=0||!t&&l<=i+r+1||t&&l>=i+r||t&&document.body.getBoundingClientRect().bottom-1<c||t&&e.getBoundingClientRect().top.toFixed(0)-1<=0?(cancelAnimationFrame(s),e&&e.focus(),setTimeout(()=>{n=!1},300)):window.requestAnimationFrame(a)})}function c(e,t,n){!n&&t.offsetHeight<window.innerHeight||(e.classList.add("animate-fade"),t.classList.remove("animate-fade"))}function r(o,a){if(o.preventDefault(),!n){let s,r=Array.from(e).findIndex(e=>e.classList.contains("animate")),l=a||o.deltaY>0;if(s=l?r+1<e.length?Array.from(e)[r+1]:Array.from(e)[r]:r>0?Array.from(e)[r-1]:Array.from(e)[0],console.log(r,e.length,e[r].getBoundingClientRect().top,l,a),e[r].classList.contains("section--variants"))l&&t[t.length-1].classList.contains("variant--current")||!l&&t[0].classList.contains("variant--current")?new i(s,l,600):(e[r].scrollIntoView({behavior:"auto"}),new function(e,t,o){n=!0;let a=e.querySelector(".section__variants").getBoundingClientRect().top,s=e.querySelector("ul"),i=e.querySelector(".variant--current"),c=o?Array.from(t).findIndex(e=>e.classList.contains("variant--current"))+1:Array.from(t).findIndex(e=>e.classList.contains("variant--current"))-1,r=Array.from(t)[c].getBoundingClientRect().top,l=0;if(s.style.transform){let e=window.getComputedStyle(s);l=new DOMMatrixReadOnly(e.transform).m42}i.classList.remove("variant--current"),Array.from(t)[c].classList.add("variant--current"),s.style.transform=`translateY(${a-r+l}px)`,setTimeout(()=>n=!1,300)}(document.querySelector(".section--variants"),t,l));else if(e[r].classList.contains("section--world")){let t=document.querySelectorAll(".section--world .section__slide");l&&t[t.length-1].classList.contains("show")||!l&&t[0].classList.contains("show")?new i(s,l,600):(e[r].scrollIntoView({behavior:"auto"}),new function(e,t,o){n=!0;let a=Array.from(t).findIndex(e=>e.classList.contains("show")),s=o?a+1:a-1;Array.from(t)[a].classList.remove("show"),Array.from(t)[s].classList.add("show"),e.setAttribute("data-slide",+s),setTimeout(()=>n=!1,300)}(e[r],t,l))}else if(e[r].classList.contains("section--roadmap")||s.classList.contains("section--roadmap")&&!l||s.classList.contains("section--opportunities")&&!l){let t=document.querySelector(".section--roadmap .expertise");t.classList.contains("animate-off")?l?(new c(e[r].querySelector(".section__content"),t,l),new i(t,l,900,"bottom"),t.classList.remove("animate-off")):(s.querySelector(".community").classList.remove("animate-fade"),new i(s.querySelector(".community"),l,900,"center")):t.classList.contains("animate-fade")?(t.classList.remove("animate-fade"),s.querySelector(".section__content").classList.add("animate-fade"),new i(t,l,900,"bottom")):l?(t.classList.add("animate-fade"),new i(s,l,600)):(new i(e[r],l,600),t.classList.add("animate-off"),e[r].querySelector(".section__content").classList.remove("animate-fade"))}else if(e[r].classList.contains("section--opportunities")||s.classList.contains("section--opportunities")&&!l||s.classList.contains("section--backstory")&&!l){let t=document.querySelector(".section--opportunities .community");t.classList.contains("animate-off")?l?(t.classList.remove("animate-off"),new c(e[r].querySelector(".section__content"),t,l),new i(t,l,900,"center")):(s.querySelector(".place").classList.remove("animate-fade"),new i(s.querySelector(".place"),l,900,"center")):t.classList.contains("animate-fade")?(t.classList.remove("animate-fade"),s.querySelector(".section__content").classList.add("animate-fade"),new i(t,l,900,"center")):l?(new i(s,l,600),t.classList.add("animate-fade")):(new i(e[r],l,600),t.classList.add("animate-off"),e[r].querySelector(".section__content").classList.remove("animate-fade"))}else if(e[r].classList.contains("section--backstory")||s.classList.contains("section--backstory")&&!l||s.classList.contains("section--world")&&!l){let t=document.querySelector(".section--backstory .place");t.classList.contains("animate-off")?l?(t.classList.remove("animate-off"),new c(e[r].querySelector(".section__content"),t,l),new i(t,l,900,"center")):(e[r].classList.remove("animate-off"),new i(s,l,600)):t.classList.contains("animate-fade")?(t.classList.remove("animate-fade"),s.querySelector(".section__content").classList.add("animate-fade"),new i(t,l,900,"center")):l?(new i(s,l,600),t.classList.add("animate-fade")):(new i(e[r],l,600),t.classList.add("animate-off"),e[r].querySelector(".section__content").classList.remove("animate-fade"))}else console.log(s),new i(s,l,600)}}function l(e){let t=window.innerWidth/2,n=window.innerHeight/2,o=e.clientX,a=e.clientY;this.querySelectorAll(".parallaxed").forEach((e,s)=>{let i=-.001*s-.001;e.style.marginLeft=`${(o-t)*i}%`,e.style.marginTop=`${(a-n)*i}%`})}e.forEach(e=>s.observe(e)),window.addEventListener("wheel",r,{passive:!1}),window.addEventListener("mousewheel",r,{passive:!1}),window.addEventListener("DOMMouseScroll",r,{passive:!1}),window.addEventListener("touchmove",e=>{},{passive:!1}),window.addEventListener("scroll",e=>{let t=document.body.getBoundingClientRect().top;new r(e,a=t-o<0),o=t},{passive:!1}),document.querySelectorAll(".parallax").forEach(e=>{e.addEventListener("mousemove",l)}),new Splide(".road",{perPage:3,perMove:1,breakpoints:{920:{perPage:2},520:{perPage:1}}}).mount(),new Splide(".section__articles",{perPage:3,perMove:1,gap:"32px",breakpoints:{640:{gap:"16px",perPage:2},520:{gap:"16px",perPage:1}}}).mount(),new Splide(".section__opportunities",{perPage:4,perMove:1,gap:"32px",breakpoints:{920:{perPage:2},640:{perPage:1}}}).mount()};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsid2luZG93Iiwib25sb2FkIiwic2VjdGlvbnMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ2YXJpYW50cyIsImlzU2Nyb2xsaW5nIiwibGFzdFNjcm9sbFRvcCIsImlzRG93biIsIm9ic2VydmVyIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJlbnRyaWVzIiwiZm9yRWFjaCIsImVudHJ5IiwiaXNJbnRlcnNlY3RpbmciLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJhZGQiLCJyb290Iiwicm9vdE1hcmdpbiIsInRocmVzaG9sZCIsIlNjcm9sbCIsImVsZW1lbnQiLCJzcGVlZCIsInR5cGUiLCJjb25zb2xlIiwibG9nIiwic3RhcnQiLCJmaXJzdFBvcyIsInBhZ2VZT2Zmc2V0IiwiZG9jdW1lbnRFbGVtZW50Iiwic2Nyb2xsVG9wIiwid2luZG93SGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJwb3MiLCJvZmZzZXRIZWlnaHQiLCJwYXJlbnRFbGVtZW50IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidG9wIiwiYm90dG9tIiwiYnJvd3NlciIsIngiLCJsZW5ndGgiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsInNob3dBbmltYXRpb24iLCJ0aW1lc3RhbXAiLCJEYXRlIiwiZ2V0VGltZSIsInByb2dyZXNzIiwidG9GaXhlZCIsImVhc2VJblBlcmNlbnRhZ2UiLCJuIiwic2Nyb2xsVG8iLCJpc05hTiIsImJvZHkiLCJmb2N1cyIsInNldFRpbWVvdXQiLCJBbmltYXRlRmFkZSIsImN1cnJlbnQiLCJpZERvd24iLCJXaGVlbCIsImUiLCJEb3duIiwicHJldmVudERlZmF1bHQiLCJBcnJheSIsImZyb20iLCJmaW5kSW5kZXgiLCJzZWN0aW9uIiwiY29udGFpbnMiLCJkZWx0YVkiLCJzY3JvbGxJbnRvVmlldyIsImJlaGF2aW9yIiwiY29udGFpbmVyIiwiZWxlbWVudHMiLCJjb250YWluZXJUb3AiLCJxdWVyeVNlbGVjdG9yIiwicGFyZW50IiwidGFyZ2V0SW5kZXgiLCJlbCIsInN0eWxlIiwidHJhbnNmb3JtIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsIkRPTU1hdHJpeFJlYWRPbmx5IiwibTQyIiwic2xpZGVzIiwic2V0QXR0cmlidXRlIiwiZXhwZXJ0aXNlIiwiY29tbXVuaXR5IiwicGxhY2UiLCJQYXJhbGxheCIsIl93IiwiaW5uZXJXaWR0aCIsIl9oIiwiX21vdXNlWCIsImNsaWVudFgiLCJfbW91c2VZIiwiY2xpZW50WSIsInRoaXMiLCJpbmRleCIsIm11bHRpcGx5IiwibWFyZ2luTGVmdCIsIm1hcmdpblRvcCIsIm9ic2VydmUiLCJhZGRFdmVudExpc3RlbmVyIiwicGFzc2l2ZSIsInN0IiwicGFyYWxsYXgiLCJTcGxpZGUiLCJwZXJQYWdlIiwicGVyTW92ZSIsImJyZWFrcG9pbnRzIiwiOTIwIiwiNTIwIiwibW91bnQiLCJnYXAiLCI2NDAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUFBLE9BQUFDLE9BQUEsV0FDQSxNQUFBQyxFQUFBQyxTQUFBQyxpQkFBQSxZQUNBLElBQUFDLEVBQUFGLFNBQUFDLGlCQUFBLCtCQUVBRSxHQUFBLEVBQ0FDLEVBQUEsRUFDQUMsR0FBQSxFQWNBLE1BQUFDLEVBQUEsSUFBQUMscUJBZEEsU0FBQUMsRUFBQUYsR0FDQUUsRUFBQUMsUUFBQUMsSUFDQUEsRUFBQUMsZ0JBRUFELEVBQUFFLE9BQUFDLFVBQUFDLE9BQUEsZUFDQUosRUFBQUUsT0FBQUMsVUFBQUUsSUFBQSxhQUdBTCxFQUFBRSxPQUFBQyxVQUFBQyxPQUFBLFdBQ0FKLEVBQUFFLE9BQUFDLFVBQUFFLElBQUEsb0JBZEFDLEtBQUEsS0FDQUMsV0FBQSxNQUNBQyxVQUFBLEtBcUJBLFNBQUFDLEVBQUFDLEVBQUFmLEVBQUFnQixFQUFBQyxHQUNBQyxRQUFBQyxJQUFBSixFQUFBZixHQUNBRixHQUFBLEVBQ0EsSUFBQXNCLEVBQUEsS0FDQUMsRUFBQTdCLE9BQUE4Qixh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U0FBQSxJQUNBMUcsT0FBQXlHLGlCQUFBLGFBQUEzQyxHQUFBNEMsU0FBQSxJQUNBMUcsT0FBQXlHLGlCQUFBLGlCQUFBM0MsR0FBQTRDLFNBQUEsSUFHQTFHLE9BQUF5RyxpQkFBQSxZQUFBMUMsT0FFQTJDLFNBQUEsSUFFQTFHLE9BQUF5RyxpQkFBQSxTQUFBMUMsSUFDQSxJQUFBNEMsRUFBQXhHLFNBQUFxRCxLQUFBbEIsd0JBQUFDLElBRUEsSUFBQXVCLEVBQUFDLEVBREF2RCxFQUFBbUcsRUFBQXBHLEVBQUEsR0FFQUEsRUFBQW9HLElBQ0FELFNBQUEsSUFlQXZHLFNBQUFDLGlCQUFBLGFBQ0FRLFFBQUFnRyxJQUNBQSxFQUFBSCxpQkFBQSxZQUFBZCxLQUdBLElBQUFrQixPQUFBLFNBQ0FDLFFBQUEsRUFDQUMsUUFBQSxFQUNBQyxhQUNBQyxLQUNBSCxRQUFBLEdBRUFJLEtBQ0FKLFFBQUEsTUFJQUssUUFFQSxJQUFBTixPQUFBLHNCQUNBQyxRQUFBLEVBQ0FDLFFBQUEsRUFDQUssSUFBQSxPQUNBSixhQUNBSyxLQUNBRCxJQUFBLE9BQ0FOLFFBQUEsR0FFQUksS0FDQUUsSUFBQSxPQUNBTixRQUFBLE1BSUFLLFFBRUEsSUFBQU4sT0FBQSwyQkFDQUMsUUFBQSxFQUNBQyxRQUFBLEVBQ0FLLElBQUEsT0FDQUosYUFDQUMsS0FDQUgsUUFBQSxHQUVBTyxLQUNBUCxRQUFBLE1BSUFLIiwiZmlsZSI6InNjcmlwdHMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsid2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgY29uc3Qgc2VjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VjdGlvbicpO1xuICBsZXQgdmFyaWFudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VjdGlvbi0tdmFyaWFudHMgLnZhcmlhbnQnKTtcblxuICBsZXQgaXNTY3JvbGxpbmcgPSBmYWxzZTtcbiAgbGV0IGxhc3RTY3JvbGxUb3AgPSAwO1xuICBsZXQgaXNEb3duID0gdHJ1ZTtcblxuICBjb25zdCBvYnNlcnZlck9wdGlvbnMgPSB7XG4gICAgcm9vdDogbnVsbCxcbiAgICByb290TWFyZ2luOiAnMTAlJyxcbiAgICB0aHJlc2hvbGQ6IDAuNVxuICB9O1xuXG4gIGZ1bmN0aW9uIG9ic2VydmVyQ2FsbGJhY2soZW50cmllcywgb2JzZXJ2ZXIpIHtcbiAgICBlbnRyaWVzLmZvckVhY2goZW50cnkgPT4ge1xuICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XG4gICAgICAgIC8vIGZhZGUgaW4gb2JzZXJ2ZWQgZWxlbWVudHMgdGhhdCBhcmUgaW4gdmlld1xuICAgICAgICBlbnRyeS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnYW5pbWF0ZS1vZmYnKTtcbiAgICAgICAgZW50cnkudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2FuaW1hdGUnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGZhZGUgb3V0IG9ic2VydmVkIGVsZW1lbnRzIHRoYXQgYXJlIG5vdCBpbiB2aWV3XG4gICAgICAgIGVudHJ5LnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdhbmltYXRlJyk7XG4gICAgICAgIGVudHJ5LnRhcmdldC5jbGFzc0xpc3QuYWRkKCdhbmltYXRlLW9mZicpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIob2JzZXJ2ZXJDYWxsYmFjaywgb2JzZXJ2ZXJPcHRpb25zKTtcblxuICBzZWN0aW9ucy5mb3JFYWNoKGVsID0+IG9ic2VydmVyLm9ic2VydmUoZWwpKTtcblxuICBmdW5jdGlvbiBTY3JvbGwoZWxlbWVudCwgaXNEb3duLCBzcGVlZCwgdHlwZSkge1xuICAgIGNvbnNvbGUubG9nKGVsZW1lbnQsIGlzRG93bik7XG4gICAgaXNTY3JvbGxpbmcgPSB0cnVlO1xuICAgIGxldCBzdGFydCA9IG51bGw7XG4gICAgbGV0IGZpcnN0UG9zID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gICAgbGV0IHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICBsZXQgdGFyZ2V0ID0gMDtcbiAgICBsZXQgcG9zID0gMDtcblxuICAgIGlmICh0eXBlID09PSAnY2VudGVyJykge1xuICAgICAgdGFyZ2V0ID0gaXNEb3duID8gKHdpbmRvd0hlaWdodCArIGVsZW1lbnQub2Zmc2V0SGVpZ2h0KSAvIDIgOiBlbGVtZW50LnBhcmVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgKHdpbmRvd0hlaWdodCArIGVsZW1lbnQub2Zmc2V0SGVpZ2h0KSAvIDI7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnYm90dG9tJykge1xuICAgICAgdGFyZ2V0ID0gZWxlbWVudC5wYXJlbnRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbSAtIHdpbmRvd0hlaWdodDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG4gICAgfVxuXG4gICAgLy8gY29uc29sZS5sb2coZmlyc3RQb3MsIHRhcmdldCwgcG9zLCBlbGVtZW50KTtcblxuICAgIChmdW5jdGlvbigpIHtcblxuICAgICAgY29uc3QgYnJvd3NlciA9IFsnbXMnLCAnbW96JywgJ3dlYmtpdCcsICdvJ107XG5cbiAgICAgIGZvcihsZXQgeCA9IDAsIGxlbmd0aCA9IGJyb3dzZXIubGVuZ3RoOyB4IDwgbGVuZ3RoICYmICF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lOyB4KyspIHtcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHdpbmRvd1ticm93c2VyW3hdKydSZXF1ZXN0QW5pbWF0aW9uRnJhbWUnXTtcbiAgICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gd2luZG93W2Jyb3dzZXJbeF0rJ0NhbmNlbEFuaW1hdGlvbkZyYW1lJ10gfHwgd2luZG93W2Jyb3dzZXJbeF0rJ0NhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSddO1xuICAgICAgfVxuXG4gICAgfSgpKTtcblxuICAgIGZ1bmN0aW9uIHNob3dBbmltYXRpb24gKHRpbWVzdGFtcCkge1xuXG4gICAgICBpZighc3RhcnQpIHsgc3RhcnQgPSB0aW1lc3RhbXAgfHwgbmV3IERhdGUoKS5nZXRUaW1lKCk7IH0gLy9nZXQgaWQgb2YgYW5pbWF0aW9uXG5cbiAgICAgIGxldCBlbGFwc2VkID0gdGltZXN0YW1wIC0gc3RhcnQ7XG4gICAgICBsZXQgcHJvZ3Jlc3MgPSBlbGFwc2VkIC8gK3NwZWVkOyAvLyBhbmltYXRpb24gZHVyYXRpb24gNTAwbXNcbiAgICAgIHByb2dyZXNzID0gK3Byb2dyZXNzLnRvRml4ZWQoMik7XG5cbiAgICAgIC8vIGNvbnNvbGUubG9nKHN0YXJ0LCB0aW1lc3RhbXAsIHByb2dyZXNzLCBlbGFwc2VkLCBzcGVlZCwgZmlyc3RQb3MsIHRhcmdldCwgcG9zKTtcblxuICAgICAgLy9lYXNlIGluIGZ1bmN0aW9uIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2NvbXBvbmVudC9lYXNlL2Jsb2IvbWFzdGVyL2luZGV4LmpzXG4gICAgICBjb25zdCBvdXRRdWFkID0gZnVuY3Rpb24obil7XG4gICAgICAgIHJldHVybiBuICogKDIgLSBuKTtcbiAgICAgIH07XG5cbiAgICAgIGxldCBlYXNlSW5QZXJjZW50YWdlID0gKyhvdXRRdWFkKHByb2dyZXNzKSkudG9GaXhlZCgyKTtcblxuICAgICAgcG9zID0gZmlyc3RQb3MgKyAodGFyZ2V0ICogZWFzZUluUGVyY2VudGFnZSk7XG4gICAgICBwb3MgPSArcG9zLnRvRml4ZWQoMik7XG4gICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgcG9zKTtcblxuICAgICAgY29uc29sZS5sb2coXG4gICAgICAgIGlzTmFOKHBvcyksIHBvcyA8IDAsXG4gICAgICAgICFpc0Rvd24gJiYgcG9zIDw9IDAsXG4gICAgICAgICFpc0Rvd24gJiYgcG9zIDw9IChmaXJzdFBvcyArIHRhcmdldCArIDEpLFxuICAgICAgICBpc0Rvd24gJiYgcG9zID49IChmaXJzdFBvcyArIHRhcmdldCksXG4gICAgICAgIGlzRG93biAmJiBkb2N1bWVudC5ib2R5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbSAtIDEgPCB3aW5kb3dIZWlnaHQsXG4gICAgICAgIGlzRG93biAmJiBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcC50b0ZpeGVkKDApIC0gMSA+PSAwLFxuICAgICAgICBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcC50b0ZpeGVkKDApICsgMVxuICAgICAgICApO1xuXG4gICAgICBpZiggaXNOYU4ocG9zKSB8fCBwb3MgPCAwIHx8XG4gICAgICAgICFpc0Rvd24gJiYgcG9zIDw9IDAgfHxcbiAgICAgICAgIWlzRG93biAmJiBwb3MgPD0gKGZpcnN0UG9zICsgdGFyZ2V0ICsgMSkgfHxcbiAgICAgICAgaXNEb3duICYmIHBvcyA+PSAoZmlyc3RQb3MgKyB0YXJnZXQpIHx8XG4gICAgICAgIGlzRG93biAmJiBkb2N1bWVudC5ib2R5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbSAtIDEgPCB3aW5kb3dIZWlnaHQgfHxcbiAgICAgICAgaXNEb3duICYmIGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wLnRvRml4ZWQoMCkgLSAxIDw9IDBcbiAgICAgICl7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHN0YXJ0KTtcbiAgICAgICAgaWYoZWxlbWVudCkge1xuICAgICAgICAgIGVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRUaW1lb3V0KCgpPT4ge1xuICAgICAgICAgIGlzU2Nyb2xsaW5nID0gZmFsc2U7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2cocG9zLCBpc1Njcm9sbGluZywgZWxlbWVudCk7XG4gICAgICAgIH0sIDMwMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHNob3dBbmltYXRpb24pO1xuICAgICAgfVxuICAgIH1cbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHNob3dBbmltYXRpb24pO1xuICB9XG5cbiAgZnVuY3Rpb24gSW5uZXJTY3JvbGwoY29udGFpbmVyLCBlbGVtZW50cywgaXNEb3duKSB7XG4gICAgaXNTY3JvbGxpbmcgPSB0cnVlO1xuICAgIGxldCBjb250YWluZXJUb3AgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLnNlY3Rpb25fX3ZhcmlhbnRzJykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgIGxldCBwYXJlbnQgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcigndWwnKTtcbiAgICBsZXQgY3VycmVudCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcudmFyaWFudC0tY3VycmVudCcpO1xuICAgIGxldCB0YXJnZXRJbmRleCA9IGlzRG93biA/XG4gICAgICBBcnJheS5mcm9tKGVsZW1lbnRzKS5maW5kSW5kZXgoIGVsID0+IGVsLmNsYXNzTGlzdC5jb250YWlucygndmFyaWFudC0tY3VycmVudCcpKSArIDEgOlxuICAgICAgQXJyYXkuZnJvbShlbGVtZW50cykuZmluZEluZGV4KCBlbCA9PiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3ZhcmlhbnQtLWN1cnJlbnQnKSkgLSAxO1xuICAgIGxldCB0YXJnZXQgPSBBcnJheS5mcm9tKGVsZW1lbnRzKVt0YXJnZXRJbmRleF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgIGxldCBwb3MgPSAwO1xuICAgIGlmIChwYXJlbnQuc3R5bGUudHJhbnNmb3JtKSB7XG4gICAgICBsZXQgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShwYXJlbnQpO1xuICAgICAgbGV0IG1hdHJpeCA9IG5ldyBET01NYXRyaXhSZWFkT25seShzdHlsZS50cmFuc2Zvcm0pO1xuICAgICAgcG9zID0gbWF0cml4Lm00MjtcbiAgICB9XG4gICAgLy8gY29uc29sZS5sb2coY29udGFpbmVyVG9wLCBwYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wLCB0YXJnZXQsIHBvcyk7XG4gICAgY3VycmVudC5jbGFzc0xpc3QucmVtb3ZlKCd2YXJpYW50LS1jdXJyZW50Jyk7XG4gICAgQXJyYXkuZnJvbShlbGVtZW50cylbdGFyZ2V0SW5kZXhdLmNsYXNzTGlzdC5hZGQoJ3ZhcmlhbnQtLWN1cnJlbnQnKTtcbiAgICBwYXJlbnQuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVkoJHtjb250YWluZXJUb3AgLSB0YXJnZXQgKyBwb3N9cHgpYDtcbiAgICBzZXRUaW1lb3V0KCgpID0+IGlzU2Nyb2xsaW5nID0gZmFsc2UsIDMwMCk7XG4gIH1cblxuICBmdW5jdGlvbiBTbGlkZXNTY3JvbGwoY29udGFpbmVyLCBlbGVtZW50cywgaXNEb3duKSB7XG4gICAgaXNTY3JvbGxpbmcgPSB0cnVlO1xuICAgIGxldCBjdXJyZW50ID0gQXJyYXkuZnJvbShlbGVtZW50cykuZmluZEluZGV4KGVsID0+IGVsLmNsYXNzTGlzdC5jb250YWlucygnc2hvdycpKTtcbiAgICBsZXQgdGFyZ2V0ID0gaXNEb3duID8gY3VycmVudCArIDEgOiBjdXJyZW50IC0gMTtcbiAgICBBcnJheS5mcm9tKGVsZW1lbnRzKVtjdXJyZW50XS5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XG4gICAgQXJyYXkuZnJvbShlbGVtZW50cylbdGFyZ2V0XS5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7XG4gICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnZGF0YS1zbGlkZScsICt0YXJnZXQpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4gaXNTY3JvbGxpbmcgPSBmYWxzZSwgMzAwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIEFuaW1hdGVGYWRlKGN1cnJlbnQsIHRhcmdldCwgaWREb3duKSB7XG4gICAgaWYgKCEoIWlkRG93biAmJiB0YXJnZXQub2Zmc2V0SGVpZ2h0IDwgd2luZG93LmlubmVySGVpZ2h0KSkge1xuICAgICAgY3VycmVudC5jbGFzc0xpc3QuYWRkKCdhbmltYXRlLWZhZGUnKTtcbiAgICAgIHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdhbmltYXRlLWZhZGUnKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBXaGVlbChlLCBEb3duKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmICghaXNTY3JvbGxpbmcpIHtcbiAgICAgIGxldCBjdXJyZW50ID0gQXJyYXkuZnJvbShzZWN0aW9ucykuZmluZEluZGV4KHNlY3Rpb24gPT4gc2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2FuaW1hdGUnKSk7XG4gICAgICBsZXQgaXNEb3duID0gRG93biB8fCBlLmRlbHRhWSA+IDA7XG4gICAgICBsZXQgdGFyZ2V0O1xuICAgICAgaWYgKGlzRG93bikge1xuICAgICAgICB0YXJnZXQgPSBjdXJyZW50ICsgMSA8IHNlY3Rpb25zLmxlbmd0aCA/IEFycmF5LmZyb20oc2VjdGlvbnMpW2N1cnJlbnQgKyAxXSA6IEFycmF5LmZyb20oc2VjdGlvbnMpW2N1cnJlbnRdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0ID0gY3VycmVudCA+IDAgPyBBcnJheS5mcm9tKHNlY3Rpb25zKVtjdXJyZW50IC0gMV0gOiBBcnJheS5mcm9tKHNlY3Rpb25zKVswXTtcbiAgICAgIH1cbiAgICAgIGNvbnNvbGUubG9nKGN1cnJlbnQsIHNlY3Rpb25zLmxlbmd0aCwgc2VjdGlvbnNbY3VycmVudF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wLCBpc0Rvd24sIERvd24pO1xuXG4gICAgICBpZiAoc2VjdGlvbnNbY3VycmVudF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWN0aW9uLS12YXJpYW50cycpKSB7XG4gICAgICAgIGlmIChpc0Rvd24gJiYgdmFyaWFudHNbdmFyaWFudHMubGVuZ3RoIC0gMV0uY2xhc3NMaXN0LmNvbnRhaW5zKCd2YXJpYW50LS1jdXJyZW50JykgfHxcbiAgICAgICAgICAhaXNEb3duICYmIHZhcmlhbnRzWzBdLmNsYXNzTGlzdC5jb250YWlucygndmFyaWFudC0tY3VycmVudCcpKSB7XG4gICAgICAgICAgbmV3IFNjcm9sbCh0YXJnZXQsIGlzRG93biwgNjAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWN0aW9uc1tjdXJyZW50XS5zY3JvbGxJbnRvVmlldyh7YmVoYXZpb3I6ICdhdXRvJ30pO1xuICAgICAgICAgIG5ldyBJbm5lclNjcm9sbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi0tdmFyaWFudHMnKSwgdmFyaWFudHMsIGlzRG93bik7XG4gICAgICAgIH1cblxuICAgICAgfSBlbHNlIGlmIChzZWN0aW9uc1tjdXJyZW50XS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlY3Rpb24tLXdvcmxkJykpIHtcbiAgICAgICAgbGV0IHNsaWRlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWN0aW9uLS13b3JsZCAuc2VjdGlvbl9fc2xpZGUnKTtcbiAgICAgICAgaWYgKGlzRG93biAmJiBzbGlkZXNbc2xpZGVzLmxlbmd0aCAtIDFdLmNsYXNzTGlzdC5jb250YWlucygnc2hvdycpIHx8XG4gICAgICAgICAgIWlzRG93biAmJiBzbGlkZXNbMF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93JykpIHtcbiAgICAgICAgICBuZXcgU2Nyb2xsKHRhcmdldCwgaXNEb3duLCA2MDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlY3Rpb25zW2N1cnJlbnRdLnNjcm9sbEludG9WaWV3KHtiZWhhdmlvcjogJ2F1dG8nfSk7XG4gICAgICAgICAgbmV3IFNsaWRlc1Njcm9sbChzZWN0aW9uc1tjdXJyZW50XSwgc2xpZGVzLCBpc0Rvd24pO1xuICAgICAgICB9XG5cbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIHNlY3Rpb25zW2N1cnJlbnRdLmNsYXNzTGlzdC5jb250YWlucygnc2VjdGlvbi0tcm9hZG1hcCcpIHx8XG4gICAgICAgIHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlY3Rpb24tLXJvYWRtYXAnKSAmJiAhaXNEb3duIHx8XG4gICAgICAgIHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlY3Rpb24tLW9wcG9ydHVuaXRpZXMnKSAmJiAhaXNEb3duXG4gICAgICApIHtcbiAgICAgICAgbGV0IGV4cGVydGlzZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLS1yb2FkbWFwIC5leHBlcnRpc2UnKTtcbiAgICAgICAgaWYgKGV4cGVydGlzZS5jbGFzc0xpc3QuY29udGFpbnMoJ2FuaW1hdGUtb2ZmJykpIHtcbiAgICAgICAgICBpZiAoaXNEb3duKSB7XG4gICAgICAgICAgICBuZXcgQW5pbWF0ZUZhZGUoc2VjdGlvbnNbY3VycmVudF0ucXVlcnlTZWxlY3RvcignLnNlY3Rpb25fX2NvbnRlbnQnKSwgZXhwZXJ0aXNlLCBpc0Rvd24pO1xuICAgICAgICAgICAgbmV3IFNjcm9sbChleHBlcnRpc2UsIGlzRG93biwgOTAwLCAnYm90dG9tJyk7XG4gICAgICAgICAgICBleHBlcnRpc2UuY2xhc3NMaXN0LnJlbW92ZSgnYW5pbWF0ZS1vZmYnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJy5jb21tdW5pdHknKS5jbGFzc0xpc3QucmVtb3ZlKCdhbmltYXRlLWZhZGUnKTtcbiAgICAgICAgICAgIG5ldyBTY3JvbGwodGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJy5jb21tdW5pdHknKSwgaXNEb3duLCA5MDAsICdjZW50ZXInKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZXhwZXJ0aXNlLmNsYXNzTGlzdC5jb250YWlucygnYW5pbWF0ZS1mYWRlJykpIHtcbiAgICAgICAgICBleHBlcnRpc2UuY2xhc3NMaXN0LnJlbW92ZSgnYW5pbWF0ZS1mYWRlJyk7XG4gICAgICAgICAgdGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uX19jb250ZW50JykuY2xhc3NMaXN0LmFkZCgnYW5pbWF0ZS1mYWRlJyk7XG4gICAgICAgICAgbmV3IFNjcm9sbChleHBlcnRpc2UsIGlzRG93biwgOTAwLCAnYm90dG9tJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGlzRG93bikge1xuICAgICAgICAgICAgZXhwZXJ0aXNlLmNsYXNzTGlzdC5hZGQoJ2FuaW1hdGUtZmFkZScpO1xuICAgICAgICAgICAgbmV3IFNjcm9sbCh0YXJnZXQsIGlzRG93biwgNjAwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3IFNjcm9sbChzZWN0aW9uc1tjdXJyZW50XSwgaXNEb3duLCA2MDApO1xuICAgICAgICAgICAgZXhwZXJ0aXNlLmNsYXNzTGlzdC5hZGQoJ2FuaW1hdGUtb2ZmJyk7XG4gICAgICAgICAgICBzZWN0aW9uc1tjdXJyZW50XS5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbl9fY29udGVudCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2FuaW1hdGUtZmFkZScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICBzZWN0aW9uc1tjdXJyZW50XS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlY3Rpb24tLW9wcG9ydHVuaXRpZXMnKSB8fFxuICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWN0aW9uLS1vcHBvcnR1bml0aWVzJykgJiYgIWlzRG93biB8fFxuICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWN0aW9uLS1iYWNrc3RvcnknKSAmJiAhaXNEb3duXG4gICAgICApIHtcbiAgICAgICAgbGV0IGNvbW11bml0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLS1vcHBvcnR1bml0aWVzIC5jb21tdW5pdHknKTtcbiAgICAgICAgaWYgKGNvbW11bml0eS5jbGFzc0xpc3QuY29udGFpbnMoJ2FuaW1hdGUtb2ZmJykpIHtcbiAgICAgICAgICBpZiAoaXNEb3duKSB7XG4gICAgICAgICAgICBjb21tdW5pdHkuY2xhc3NMaXN0LnJlbW92ZSgnYW5pbWF0ZS1vZmYnKTtcbiAgICAgICAgICAgIG5ldyBBbmltYXRlRmFkZShzZWN0aW9uc1tjdXJyZW50XS5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbl9fY29udGVudCcpLCBjb21tdW5pdHksIGlzRG93bik7XG4gICAgICAgICAgICBuZXcgU2Nyb2xsKGNvbW11bml0eSwgaXNEb3duLCA5MDAsICdjZW50ZXInKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJy5wbGFjZScpLmNsYXNzTGlzdC5yZW1vdmUoJ2FuaW1hdGUtZmFkZScpO1xuICAgICAgICAgICAgbmV3IFNjcm9sbCh0YXJnZXQucXVlcnlTZWxlY3RvcignLnBsYWNlJyksIGlzRG93biwgOTAwLCAnY2VudGVyJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNvbW11bml0eS5jbGFzc0xpc3QuY29udGFpbnMoJ2FuaW1hdGUtZmFkZScpKSB7XG4gICAgICAgICAgY29tbXVuaXR5LmNsYXNzTGlzdC5yZW1vdmUoJ2FuaW1hdGUtZmFkZScpO1xuICAgICAgICAgIHRhcmdldC5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbl9fY29udGVudCcpLmNsYXNzTGlzdC5hZGQoJ2FuaW1hdGUtZmFkZScpO1xuICAgICAgICAgIG5ldyBTY3JvbGwoY29tbXVuaXR5LCBpc0Rvd24sIDkwMCwgJ2NlbnRlcicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChpc0Rvd24pIHtcbiAgICAgICAgICAgIG5ldyBTY3JvbGwodGFyZ2V0LCBpc0Rvd24sIDYwMCk7XG4gICAgICAgICAgICBjb21tdW5pdHkuY2xhc3NMaXN0LmFkZCgnYW5pbWF0ZS1mYWRlJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ldyBTY3JvbGwoc2VjdGlvbnNbY3VycmVudF0sIGlzRG93biwgNjAwKTtcbiAgICAgICAgICAgIGNvbW11bml0eS5jbGFzc0xpc3QuYWRkKCdhbmltYXRlLW9mZicpO1xuICAgICAgICAgICAgc2VjdGlvbnNbY3VycmVudF0ucXVlcnlTZWxlY3RvcignLnNlY3Rpb25fX2NvbnRlbnQnKS5jbGFzc0xpc3QucmVtb3ZlKCdhbmltYXRlLWZhZGUnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgc2VjdGlvbnNbY3VycmVudF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWN0aW9uLS1iYWNrc3RvcnknKSB8fFxuICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWN0aW9uLS1iYWNrc3RvcnknKSAmJiAhaXNEb3duIHx8XG4gICAgICAgIHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlY3Rpb24tLXdvcmxkJykgJiYgIWlzRG93blxuICAgICAgKSB7XG4gICAgICAgIGxldCBwbGFjZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLS1iYWNrc3RvcnkgLnBsYWNlJyk7XG4gICAgICAgIGlmIChwbGFjZS5jbGFzc0xpc3QuY29udGFpbnMoJ2FuaW1hdGUtb2ZmJykpIHtcbiAgICAgICAgICBpZiAoaXNEb3duKSB7XG4gICAgICAgICAgICBwbGFjZS5jbGFzc0xpc3QucmVtb3ZlKCdhbmltYXRlLW9mZicpO1xuICAgICAgICAgICAgbmV3IEFuaW1hdGVGYWRlKHNlY3Rpb25zW2N1cnJlbnRdLnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uX19jb250ZW50JyksIHBsYWNlLCBpc0Rvd24pO1xuICAgICAgICAgICAgbmV3IFNjcm9sbChwbGFjZSwgaXNEb3duLCA5MDAsICdjZW50ZXInKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VjdGlvbnNbY3VycmVudF0uY2xhc3NMaXN0LnJlbW92ZSgnYW5pbWF0ZS1vZmYnKTtcbiAgICAgICAgICAgIG5ldyBTY3JvbGwodGFyZ2V0LCBpc0Rvd24sIDYwMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHBsYWNlLmNsYXNzTGlzdC5jb250YWlucygnYW5pbWF0ZS1mYWRlJykpIHtcbiAgICAgICAgICBwbGFjZS5jbGFzc0xpc3QucmVtb3ZlKCdhbmltYXRlLWZhZGUnKTtcbiAgICAgICAgICB0YXJnZXQucXVlcnlTZWxlY3RvcignLnNlY3Rpb25fX2NvbnRlbnQnKS5jbGFzc0xpc3QuYWRkKCdhbmltYXRlLWZhZGUnKTtcbiAgICAgICAgICBuZXcgU2Nyb2xsKHBsYWNlLCBpc0Rvd24sIDkwMCwgJ2NlbnRlcicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChpc0Rvd24pIHtcbiAgICAgICAgICAgIG5ldyBTY3JvbGwodGFyZ2V0LCBpc0Rvd24sIDYwMCk7XG4gICAgICAgICAgICBwbGFjZS5jbGFzc0xpc3QuYWRkKCdhbmltYXRlLWZhZGUnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3IFNjcm9sbChzZWN0aW9uc1tjdXJyZW50XSwgaXNEb3duLCA2MDApO1xuICAgICAgICAgICAgcGxhY2UuY2xhc3NMaXN0LmFkZCgnYW5pbWF0ZS1vZmYnKTtcbiAgICAgICAgICAgIHNlY3Rpb25zW2N1cnJlbnRdLnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uX19jb250ZW50JykuY2xhc3NMaXN0LnJlbW92ZSgnYW5pbWF0ZS1mYWRlJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHRhcmdldCk7XG4gICAgICAgIG5ldyBTY3JvbGwodGFyZ2V0LCBpc0Rvd24sIDYwMCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3doZWVsJywgV2hlZWwsIHtwYXNzaXZlOiBmYWxzZX0pO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V3aGVlbCcsIFdoZWVsLCB7cGFzc2l2ZTogZmFsc2V9KTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTU1vdXNlU2Nyb2xsJywgV2hlZWwsIHtwYXNzaXZlOiBmYWxzZX0pO1xuXG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIChlKT0+e1xuXG4gIH0sIHtwYXNzaXZlOiBmYWxzZX0pO1xuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoZSk9PntcbiAgICBsZXQgc3QgPSBkb2N1bWVudC5ib2R5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcbiAgICBpc0Rvd24gPSBzdCAtIGxhc3RTY3JvbGxUb3AgPCAwO1xuICAgIG5ldyBXaGVlbChlLCBpc0Rvd24pO1xuICAgIGxhc3RTY3JvbGxUb3AgPSBzdDtcbiAgfSwge3Bhc3NpdmU6IGZhbHNlfSk7XG5cbiAgZnVuY3Rpb24gUGFyYWxsYXgoZSkge1xuICAgIGxldCBfdyA9IHdpbmRvdy5pbm5lcldpZHRoLzI7XG4gICAgbGV0IF9oID0gd2luZG93LmlubmVySGVpZ2h0LzI7XG4gICAgbGV0IF9tb3VzZVggPSBlLmNsaWVudFg7XG4gICAgbGV0IF9tb3VzZVkgPSBlLmNsaWVudFk7XG4gICAgbGV0IGVsZW1zID0gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKCcucGFyYWxsYXhlZCcpO1xuICAgIGVsZW1zLmZvckVhY2goKGVsLCBpbmRleCkgPT4ge1xuICAgICAgbGV0IG11bHRpcGx5ID0gaW5kZXggKiAtMC4wMDEgLSAwLjAwMTtcbiAgICAgIGVsLnN0eWxlLm1hcmdpbkxlZnQgPSBgJHsoX21vdXNlWCAtIF93KSAqIG11bHRpcGx5fSVgO1xuICAgICAgZWwuc3R5bGUubWFyZ2luVG9wID0gYCR7KF9tb3VzZVkgLSBfaCkgKiBtdWx0aXBseX0lYDtcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IHBhcmFsbGF4ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGFyYWxsYXgnKTtcbiAgcGFyYWxsYXhlcy5mb3JFYWNoKChwYXJhbGxheCkgPT4ge1xuICAgIHBhcmFsbGF4LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgUGFyYWxsYXgpO1xuICB9KTtcblxuICBsZXQgc3BsaWRlID0gbmV3IFNwbGlkZSggJy5yb2FkJywge1xuICAgIHBlclBhZ2U6IDMsXG4gICAgcGVyTW92ZTogMSxcbiAgICBicmVha3BvaW50czoge1xuICAgICAgOTIwOiB7XG4gICAgICAgIHBlclBhZ2U6IDJcbiAgICAgIH0sXG4gICAgICA1MjA6IHtcbiAgICAgICAgcGVyUGFnZTogMVxuICAgICAgfSxcbiAgICB9LFxuICB9ICk7XG4gIHNwbGlkZS5tb3VudCgpO1xuXG4gIGxldCBwcmVzcyA9IG5ldyBTcGxpZGUoICcuc2VjdGlvbl9fYXJ0aWNsZXMnLCB7XG4gICAgcGVyUGFnZTogMyxcbiAgICBwZXJNb3ZlOiAxLFxuICAgIGdhcDogJzMycHgnLFxuICAgIGJyZWFrcG9pbnRzOiB7XG4gICAgICA2NDA6IHtcbiAgICAgICAgZ2FwOiAnMTZweCcsXG4gICAgICAgIHBlclBhZ2U6IDJcbiAgICAgIH0sXG4gICAgICA1MjA6IHtcbiAgICAgICAgZ2FwOiAnMTZweCcsXG4gICAgICAgIHBlclBhZ2U6IDFcbiAgICAgIH0sXG4gICAgfSxcbiAgfSApO1xuICBwcmVzcy5tb3VudCgpO1xuXG4gIGxldCBzcGxpZGVPcHAgPSBuZXcgU3BsaWRlKCAnLnNlY3Rpb25fX29wcG9ydHVuaXRpZXMnLCB7XG4gICAgcGVyUGFnZTogNCxcbiAgICBwZXJNb3ZlOiAxLFxuICAgIGdhcDogJzMycHgnLFxuICAgIGJyZWFrcG9pbnRzOiB7XG4gICAgICA5MjA6IHtcbiAgICAgICAgcGVyUGFnZTogMlxuICAgICAgfSxcbiAgICAgIDY0MDoge1xuICAgICAgICBwZXJQYWdlOiAxXG4gICAgICB9XG4gICAgfSxcbiAgfSApO1xuICBzcGxpZGVPcHAubW91bnQoKTtcbn07XG5cbiJdfQ==
